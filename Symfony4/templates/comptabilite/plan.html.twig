{% extends 'base.html.twig' %}

{% block title %}Plan comptable{% endblock %}
{% block stylesheets %}
    <link href="{{ asset('assets/libs/datatable/dist/dataTables.bootstrap4.css') }}" rel="stylesheet">
{% endblock %}

{% block header %}
    <div class="page-breadcrumb">
        <div class="d-flex align-items-center">
            <h4 class="page-title text-truncate text-dark font-weight-medium mb-0">Plan comptable génerale</h4>
            <div class="ml-auto">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb m-0 p-0">
                        <li class="breadcrumb-item text-muted active" aria-current="page">Comptabilité</li>
                        <li class="breadcrumb-item text-muted" aria-current="page">Plan comptable</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
{% endblock %}
{% form_theme form 'bootstrap_4_layout.html.twig' %}
{% block body %}
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6"><h4 class="card-title">PLAN COMPTABLE GENERALE</h4></div>
                        <div class="col-md-3 text-right"><a class="btn btn-primary btn-sm" href="{{ path('import_plan_comptable') }}"><i class="mdi mdi-apple-keyboard-caps"></i> Importer plan comptable</a></div>
                        <div class="col-md-3 text-right"><button class="btn btn-info btn-sm" data-toggle="modal" href="#modal"><i class="mdi mdi-bookmark-plus-outline"></i> Créer un compte général</button></div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="table-responsive">
                            <table id="no-order" class="table table-hover mini-table no-padding border">
                                <thead class="thead-light">
                                    <tr>
                                        <th>Type</th>
                                        <th>Compte</th>
                                        
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for compte in comptes %}                                                          
                                        <tr {% if compte.poste|length == 1 %}class="table-light font-weight-bold"{% endif %} {% if compte.note %}title="{{ compte.note }}" data-toggle="tooltip"{% endif %}>
                                            <td>
                                                {% if compte.poste|length == 6 %}
                                                    <i class="mdi mdi-checkbox-blank" title="Compte" data-toggle="tooltip"></i>    
                                                {% else %}
                                                    <i class="mdi mdi-checkbox-multiple-blank" title="Rubrique" data-toggle="tooltip"></i>    
                                                {% endif %}
                                            </td>
                                            <td class="pal-{{compte.poste|length}}">{{ compte.poste }} - {{ compte.titre }}</td>
                          
                                        </tr>
                                    {% endfor %} 
                            </tbody>
                            </table>
                        </div>
                    </div>
                    <hr>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Créer un compte général</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                    <div class="modal-body">
                        <div class="row">                                                  
                            <div class="col-12">
                                {{ form_start(form) }}
                                {{ form_row(form.poste, { 'label': 'N° du compte :' }) }} 
                                {{ form_row(form.titre, { 'label': 'Intitulé du compte :' }) }}
                                <div class="form-row">
                                    <div class="col-12 text-right">
                                        <button type="submit" class="btn btn-success btn-sm">Créer</i></button>
                                    </div>
                                </div>                                                     
                                {{ form_end(form) }}
                            </div>                       
                        </div>
                    </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    <script src="{{ asset('assets/libs/datatable/dist/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('dist/js/pages/datatable/datatable-basic.init.js') }}"></script>
    <script>
        $(document).ready(function() { 
            
        });
    </script>
{% endblock %}

